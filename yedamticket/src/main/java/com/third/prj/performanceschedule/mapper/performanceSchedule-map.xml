<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.third.prj.performanceschedule.mapper.PerformanceScheduleMapper">

	<resultMap type="com.third.prj.performanceschedule.service.PerformanceScheduleVO" id="pfmcMap">
		<id property="pSchNo" column="P_SCH_NO" />
		<result property="frDt" column="FRDT"/>
		<result property="no" column="NO"/>
		<result property="pNo" column="P_NO"/>
		<result property="time" column="TIME"/>
	</resultMap>
	
	<select id="PerformanceScheduleList" resultMap="pfmcMap">
		SELECT
			TO_CHAR(S.FRDT, 'YYYY-MM-DD') || 'T' || S.TIME AS "DTTM",
			S.FRDT AS "START",
			S.TIME AS "TIME",
			S.P_SCH_NO,
			S.P_NO,
			P.NAME AS "title",
			P.ACTOR,
			P.CONTENT,
			P.LOC,
			P.ADDR,
			P.PRICE
		FROM PERFORMANCE_SCHEDULE S, 
			 PERFORMANCE P
		WHERE P.P_NO = S.P_NO
	</select>
	
	<select id="PerformanceScheduleList2" resultMap="pfmcMap">
		SELECT
			TO_CHAR(S.FRDT, 'YYYY-MM-DD') || 'T' || S.TIME AS "DTTM",
			S.FRDT AS "START",
			S.TIME AS "TIME",
			S.P_SCH_NO,
			S.P_NO,
			P.NAME AS "title",
			P.ACTOR,
			P.CONTENT,
			P.LOC,
			P.ADDR,
			P.PRICE
		FROM PERFORMANCE_SCHEDULE S, 
			 PERFORMANCE P
		WHERE P.P_NO = S.P_NO
		AND S.FRDT=#{frDt}
	</select>

</mapper>